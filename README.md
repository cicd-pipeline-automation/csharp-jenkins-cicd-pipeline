# ğŸ“˜ README.md â€” Complete CI/CD Documentation for Sample Flask Login (C# ASP.NET Core)
### *Windows Installer Build using Inno Setup, Automated via Jenkins Pipeline*

---

# ğŸ“Œ Project Overview

This project is a **C# ASP.NET Core MVC Login Application**, packaged into a **Windows Installer (.exe)** using **Inno Setup**, and fully automated through a **Jenkins CI/CD Pipeline**.

### âœ” Major Features

- ASP.NET Core MVC login application  
- Cookie authentication  
- Multi-environment configuration (Dev, QA, Prod)  
- Inno Setup packaging â†’ Generates Windows `.exe` installer  
- Jenkins CI/CD pipeline with parameters  
- Automatic version bumping  
- Build artifacts saved and emailed  
- Production-ready folder structure  

---

# ğŸ“ **Folder Structure (Production Ready)**

```
SampleFlaskLogin/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ SampleFlaskLogin/
â”‚       â”œâ”€â”€ Controllers/
â”‚       â”œâ”€â”€ Models/
â”‚       â”œâ”€â”€ Services/
â”‚       â”œâ”€â”€ Views/
â”‚       â”œâ”€â”€ wwwroot/
â”‚       â”œâ”€â”€ Program.cs
â”‚       â”œâ”€â”€ Startup.cs
â”‚       â”œâ”€â”€ SampleFlaskLogin.csproj
â”‚       â””â”€â”€ appsettings.json
â”‚
â”œâ”€â”€ installer/
â”‚   â”œâ”€â”€ installer_script.iss
â”‚   â”œâ”€â”€ build_config.iss  (generated by pipeline)
â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ app.ico
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ banner.bmp
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ pre_build.sh
â”‚   â”œâ”€â”€ post_build.sh
â”‚   â””â”€â”€ send_email.ps1
â”‚
â”œâ”€â”€ Jenkinsfile
â”œâ”€â”€ version.txt
â””â”€â”€ README.md
```

---

# ---------------------------------------------------
# 1ï¸âƒ£ SOFTWARE INSTALLATION STEPS (ALL PREREQUISITES)
# ---------------------------------------------------

This section explains everything required to build, run, package, and deploy the project.

---

## **1.1 Install .NET SDK 6.0+**

Download:  
https://dotnet.microsoft.com/en-us/download/dotnet/6.0  

Verify installation:

```
dotnet --info
```

---

## **1.2 Install Inno Setup Compiler (ISCC.exe)**

Used to generate the `.exe` installer.

Download:  
https://jrsoftware.org/isdl.php  

Default install path:

```
C:\Program Files (x86)\Inno Setup 6```

Verify:

```
"C:\Program Files (x86)\Inno Setup 6\ISCC.exe" /?
```

---

## **1.3 Install Jenkins**

Download Jenkins LTS:  
https://www.jenkins.io/download/

### Required Plugins

| Plugin | Purpose |
|--------|---------|
| Pipeline | Runs Jenkinsfile |
| Git | Clones repository |
| Email Extension Plugin | Sends email with attachments |
| Credentials Plugin | Secure secrets |
| NodeLabel Plugin | Optional node selection |
| AnsiColor Plugin | Optional terminal colors |

Ensure Jenkins service account has:

- Access to Inno Setup path  
- Permission to run `.exe` and `.bat`  

---

## **1.4 Install Git**

```
git --version
```

---

## **1.5 Install Java (Required by Jenkins)**

```
java -version
```

---

## **1.6 Windows Build Agent Requirements**

| Dependency | Required | Purpose |
|-----------|----------|---------|
| .NET 6 SDK | âœ” | Build application |
| Inno Setup 6 | âœ” | Generate installer |
| Git | âœ” | Source control |
| SMTP Access | Optional | Email sending |
| Visual Studio Build Tools | Optional | Future MSBuild |

---

# ----------------------------------------------------
# 2ï¸âƒ£ PIPELINE DETAILED EXPLANATION â€” STAGE BY STAGE
# ----------------------------------------------------

Below is the detailed breakdown of the Jenkins pipeline.

---

## **Stage 1 â€” Checkout**

Pulls repository:

```
checkout scm
```

---

## **Stage 2 â€” Read & Bump Version**

Reads `version.txt` and updates based on parameter.

### Versioning Rules

| TYPE | Rule | Example Input | Result |
|------|------|----------------|--------|
| Alpha | No bump | 1.0.0 | v1.0.0_Alpha |
| Beta | No bump | 1.0.0 | v1.0.0_Beta |
| Patch | Patch +1 | 1.0.0 â†’ 1.0.1 | v1.0.1_Patch |
| Minor | Minor +1, Reset Patch | 1.0.0 â†’ 1.1.0 | v1.1.0_Minor |
| Major | Major +1, Reset others | 1.0.0 â†’ 2.0.0 | v2.0.0_Major |

Final format:

```
v<MAJOR>.<MINOR>.<PATCH>_<TYPE>
```

Installer name:

```
result/v1.1.0_Minor.exe
```

---

## **Stage 3 â€” Restore & Build (.NET)**

```
dotnet restore
dotnet build -c Release
dotnet publish -c Release -o publish/
```

Outputs:

```
publish/
 â”œâ”€â”€ SampleFlaskLogin.exe
 â”œâ”€â”€ wwwroot/
 â”œâ”€â”€ DLL files
```

---

## **Stage 4 â€” Prepare Folders**

Creates:

```
result/
```

---

## **Stage 5 â€” Generate Build Config**

Creates dynamic file:

```
installer/build_config.iss
```

Which injects:

```
#define MyAppVersion "v1.0.0_Alpha"
#define MyOutputFile "result\v1.0.0_Alpha.exe"
```

---

## **Stage 6 â€” Run Inno Setup Compiler**

```
ISCC.exe installer/build_config.iss
```

Generates installer `.exe`.

---

## **Stage 7 â€” Archive Artifact**

Installer appears under:

```
Jenkins â†’ Build # â†’ Artifacts
```

---

## **Stage 8 â€” Email Notification**

Jenkins sends:

- Build report  
- Installer attachment  
- Download link  

Example:

```
Build Complete: Sample Flask Login - v1.1.0_Minor
```

---

# -----------------------------------------------------
# 3ï¸âƒ£ STEP-BY-STEP JENKINS CREDENTIALS SETUP
# -----------------------------------------------------

---

## **3.1 SMTP Credentials Setup**

| Field | Value |
|-------|--------|
| Kind | Username & Password |
| ID | smtp-user |
| Kind | Secret Text |
| ID | smtp-pass |

Used in pipeline:

```
SMTP_USER = credentials('smtp-user')
SMTP_PASS = credentials('smtp-pass')
```

---

## **3.2 GitHub Credentials (PAT)**

| Field | Value |
|-------|--------|
| Kind | Username + Password (PAT) |
| ID | github-credentials |

---

# -------------------------------------------------
# 4ï¸âƒ£ PIPELINE EXECUTION PLAN â€” END-TO-END FLOW
# -------------------------------------------------

---

## **4.1 Start Build**

In Jenkins:

```
Build with Parameters
```

Select:

- VERSION_TYPE  
- ENVIRONMENT  

---

## **4.2 Pipeline Steps Summary**

| Step | Action |
|------|--------|
| 1 | Checkout repository |
| 2 | Read version.txt |
| 3 | Apply version bump |
| 4 | Build ASP.NET app |
| 5 | Publish to `publish/` |
| 6 | Generate Inno Setup config |
| 7 | Run ISCC compiler |
| 8 | Create installer in `result/` |
| 9 | Archive installer |
| 10 | Send email |

---

## **4.3 Build Output**

```
result/v1.2.0_Minor.exe
```

---

# ğŸ‰ Documentation Complete

This README.md is ready for:

- GitHub  
- GitLab  
- Jenkins documentation  
- Developer onboarding  
- Enterprise CI/CD standards  

